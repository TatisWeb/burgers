{"ast":null,"code":"import _objectSpread from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Header from'./header';import MenuAdmin from'./menuadmin';import Order from'./order';import Burger from'./Burger';import sampleBurgers from'../sample-burgers';import base from'../base';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={burgers:{},order:{}};_this.addBurger=function(burger){// Создаем копию обьекта state\nvar burgers=_objectSpread({},_this.state.burgers);//Добавить новую бургер в переменную burger\nburgers[\"burger\".concat(Date.now())]=burger;//записать новый обьект в state\n_this.setState({burgers:burgers});};_this.loadSampleBurgers=function(){_this.setState({burgers:sampleBurgers});};_this.addToOrder=function(key){//делаем копию стейт\nvar order=_objectSpread({},_this.state.order);//берём переменную ордер и обьекте по ключу добавляем 1\norder[key]=order[key]+1||1;// обновляем стейт\n_this.setState({order:order});};return _this;}_createClass(App,[{key:\"componetDidMount\",value:function componetDidMount(){var params=this.props.match.params;this.ref=base.syncState(\"\".concat(params.restaurantId,\"/burgers\"),{context:this,state:'burgers'});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"burger-paraduse\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu\"},/*#__PURE__*/React.createElement(Header,{title:\"Very Hot Burger\"}),/*#__PURE__*/React.createElement(\"ul\",{className:\"burgers\"},Object.keys(this.state.burgers).map(function(key){return/*#__PURE__*/React.createElement(Burger,{key:key,index:key,addToOrder:_this2.addToOrder,details:_this2.state.burgers[key]});}))),/*#__PURE__*/React.createElement(Order,{burgers:this.state.burgers,order:this.state.order}),/*#__PURE__*/React.createElement(MenuAdmin,{addBurger:this.addBurger,loadSampleBurgers:this.loadSampleBurgers}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/landing/src/components/App.js"],"names":["React","Header","MenuAdmin","Order","Burger","sampleBurgers","base","App","state","burgers","order","addBurger","burger","Date","now","setState","loadSampleBurgers","addToOrder","key","params","props","match","ref","syncState","restaurantId","context","Object","keys","map","Component"],"mappings":"u4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,C,GAEMC,CAAAA,G,2TAEFC,K,CAAQ,CACJC,OAAO,CAAE,EADL,CAEJC,KAAK,CAAE,EAFH,C,OAeRC,S,CAAY,SAAAC,MAAM,CAAI,CAElB;AACA,GAAOH,CAAAA,OAAO,kBAAQ,MAAKD,KAAL,CAAWC,OAAnB,CAAd,CAEA;AAEAA,OAAO,iBAAUI,IAAI,CAACC,GAAL,EAAV,EAAP,CAAiCF,MAAjC,CAEA;AAEA,MAAKG,QAAL,CAAc,CAACN,OAAO,CAAPA,OAAD,CAAd,EAEH,C,OAEDO,iB,CAAoB,UAAM,CACtB,MAAKD,QAAL,CAAc,CAACN,OAAO,CAAEJ,aAAV,CAAd,EAEH,C,OAEDY,U,CAAa,SAACC,GAAD,CAAS,CACtB;AACI,GAAMR,CAAAA,KAAK,kBAAO,MAAKF,KAAL,CAAWE,KAAlB,CAAX,CACJ;AACAA,KAAK,CAACQ,GAAD,CAAL,CAAaR,KAAK,CAACQ,GAAD,CAAL,CAAY,CAAZ,EAAiB,CAA9B,CACA;AACC,MAAKH,QAAL,CAAc,CAACL,KAAK,CAALA,KAAD,CAAd,EAEA,C,+DAtCD,2BAAkB,CAChB,GAAOS,CAAAA,MAAP,CAAkB,KAAKC,KAAL,CAAWC,KAA7B,CAAOF,MAAP,CACA,KAAKG,GAAL,CAAWhB,IAAI,CAACiB,SAAL,WAAkBJ,MAAM,CAACK,YAAzB,aAAgD,CAE3DC,OAAO,CAAE,IAFkD,CAG3DjB,KAAK,CAAE,SAHoD,CAAhD,CAAX,CAMG,C,sBAgCL,iBAAS,iBACL,mBAEA,2BAAK,SAAS,CAAC,iBAAf,eACA,2BAAK,SAAS,CAAC,MAAf,eAEA,oBAAC,MAAD,EAAQ,KAAK,CAAC,iBAAd,EAFA,cAGM,0BAAI,SAAS,CAAC,SAAd,EACLkB,MAAM,CAACC,IAAP,CAAY,KAAKnB,KAAL,CAAWC,OAAvB,EAAgCmB,GAAhC,CAAoC,SAAAV,GAAG,CAAG,CACvC,mBACH,oBAAC,MAAD,EACC,GAAG,CAAEA,GADN,CAEC,KAAK,CAAEA,GAFR,CAGC,UAAU,CAAE,MAAI,CAACD,UAHlB,CAIC,OAAO,CAAE,MAAI,CAACT,KAAL,CAAWC,OAAX,CAAmBS,GAAnB,CAJV,EADG,CAQF,CATD,CADK,CAHN,CADA,cAsBA,oBAAC,KAAD,EACA,OAAO,CAAE,KAAKV,KAAL,CAAWC,OADpB,CAEA,KAAK,CAAE,KAAKD,KAAL,CAAWE,KAFlB,EAtBA,cA0BA,oBAAC,SAAD,EAAW,SAAS,CAAE,KAAKC,SAA3B,CACA,iBAAiB,CAAE,KAAKK,iBADxB,EA1BA,CAFA,CAoCH,C,iBApFahB,KAAK,CAAC6B,S,EAsFxB,cAAetB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport Header from './header';\nimport MenuAdmin from './menuadmin';\nimport Order from './order';\nimport Burger from './Burger';\nimport sampleBurgers from '../sample-burgers';\nimport base from '../base';\n\nclass App extends React.Component {\n    \n    state = {\n        burgers: {},\n        order: {}\n    };\n    \n    componetDidMount(){\n      const{ params } = this.props.match;\n      this.ref = base.syncState(`${params.restaurantId}/burgers`,{\n          \n      context: this,\n      state: 'burgers',\n      \n        })\n        }\n    \n    addBurger = burger => {\n        \n        // Создаем копию обьекта state\n        const  burgers = { ...this.state.burgers };\n       \n        //Добавить новую бургер в переменную burger\n        \n        burgers[`burger${Date.now()}`] = burger;\n        \n        //записать новый обьект в state\n        \n        this.setState({burgers});\n            \n    };\n    \n    loadSampleBurgers = () => {\n        this.setState({burgers: sampleBurgers});\n          \n    }\n    \n    addToOrder = (key) => {\n    //делаем копию стейт\n        const order = {...this.state.order}\n    //берём переменную ордер и обьекте по ключу добавляем 1\n    order[key] = order[key] +1 || 1;\n    // обновляем стейт\n     this.setState({order});\n    \n    }\n    \n    render() {\n        return(\n        \n        <div className=\"burger-paraduse\">\n        <div className=\"menu\">\n        \n        <Header title=\"Very Hot Burger\"/>\n              <ul className=\"burgers\">\n        {Object.keys(this.state.burgers).map(key =>{\n            return (\n         <Burger \n          key={key}\n          index={key}\n          addToOrder={this.addToOrder}\n          details={this.state.burgers[key]}\n         />\n         )\n         })}\n         \n         </ul>\n        \n        \n        \n        </div>\n        \n        <Order\n        burgers={this.state.burgers}\n        order={this.state.order}\n         />\n        <MenuAdmin addBurger={this.addBurger}\n        loadSampleBurgers={this.loadSampleBurgers}\n        />\n       \n        </div>\n        \n        \n        )\n    }\n    }\nexport default App;"]},"metadata":{},"sourceType":"module"}